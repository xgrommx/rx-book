<!DOCTYPE HTML>
<html lang="en-US" manifest="..\../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Creating and Subscribing to Simple Observable Sequences | RxJS - Javascript library for functional reactive programming.</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="xgrommx">
        <meta name="description" content="Reactive Extensions (Rx) is a library for composing asynchronous and event-based programs using observable sequences and LINQ-style query operators.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html" />
        
        
        <link rel="prev" href="..\../content/creating_and_querying_observable_sequences/README.html" />
        

        <meta property="og:title" content="Creating and Subscribing to Simple Observable Sequences | RxJS - Javascript library for functional reactive programming.">
        <meta property="og:site_name" content="RxJS - Javascript library for functional reactive programming.">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/xgrommx">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="..\..\gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="..\..\gitbook/style.css">
        


        
    <div class="book" data-github="xgrommx/rx-book" data-level="2.1" data-basepath="..\.." data-revision="1400183621346">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/xgrommx/rx-book" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/xgrommx/rx-book/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/xgrommx/rx-book/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="..\../" >RxJS - Javascript library for functional reactive programming.</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="https://github.com/xgrommx" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/xgrommx/rx-book/issues" target="blank">Questions and Issues</a>
        </li>
        

        
        <li>
            <a href="https://github.com/xgrommx/rx-book/edit/master/content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.md" target="blank">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="..\../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="content/getting_started_with_rxjs/README.html">
                
                <a href="..\../content/getting_started_with_rxjs/README.html">
                    <i class="fa fa-check"></i> <b>1.</b> Getting Started With RxJS
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> What are the Reactive Extensions?
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Exploring Major Concepts in RxJS
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="content/getting_started_with_rxjs/subjects.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/subjects.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Subjects
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="content/getting_started_with_rxjs/using_schedulers.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/using_schedulers.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Using Schedulers
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="content/getting_started_with_rxjs/testing_your_rx_application.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Testing your Rx application
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
                            
                            <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Implementing Your Own Observable Operators
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="content/creating_and_querying_observable_sequences/README.html">
                
                <a href="..\../content/creating_and_querying_observable_sequences/README.html">
                    <i class="fa fa-check"></i> <b>2.</b> Creating and Querying Observable Sequences
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
                            
                            <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Creating and Subscribing to Simple Observable Sequences
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="content/creating_and_querying_observable_sequences/bridging_to_events.html">
                            
                            <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> Bridging to Events
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
                            
                            <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Bridging to Callbacks and Promises
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
                            
                            <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
                                <i class="fa fa-check"></i> <b>2.4.</b> Querying Observable Sequences
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="content/creating_and_querying_observable_sequences/operators_by_category.html">
                            
                            <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html">
                                <i class="fa fa-check"></i> <b>2.5.</b> Operators by Category
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="content/observable/README.html">
                
                <a href="..\../content/observable/README.html">
                    <i class="fa fa-check"></i> <b>3.</b> Rx.Observable
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="content/observable/amb.html">
                            
                            <a href="..\../content/observable/amb.html">
                                <i class="fa fa-check"></i> <b>3.1.</b> amb
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="content/observable/case.html">
                            
                            <a href="..\../content/observable/case.html">
                                <i class="fa fa-check"></i> <b>3.2.</b> case
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="content/observable/catch.html">
                            
                            <a href="..\../content/observable/catch.html">
                                <i class="fa fa-check"></i> <b>3.3.</b> catch
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="content/observable/concat.html">
                            
                            <a href="..\../content/observable/concat.html">
                                <i class="fa fa-check"></i> <b>3.4.</b> concat
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="content/observable/create.html">
                            
                            <a href="..\../content/observable/create.html">
                                <i class="fa fa-check"></i> <b>3.5.</b> create
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="content/observable/defer.html">
                            
                            <a href="..\../content/observable/defer.html">
                                <i class="fa fa-check"></i> <b>3.6.</b> defer
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 45%;min-width: 40%;"></div>
    </div>
    <div class="chapters">
    
        <a href="..\../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/README.html" title="Getting Started With RxJS" class="chapter done new-chapter" data-progress="1" style="left: 5%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html" title="What are the Reactive Extensions?" class="chapter done " data-progress="1.1" style="left: 10%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html" title="Exploring Major Concepts in RxJS" class="chapter done " data-progress="1.2" style="left: 15%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/subjects.html" title="Subjects" class="chapter done " data-progress="1.3" style="left: 20%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/using_schedulers.html" title="Using Schedulers" class="chapter done " data-progress="1.4" style="left: 25%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html" title="Testing your Rx application" class="chapter done " data-progress="1.5" style="left: 30%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html" title="Implementing Your Own Observable Operators" class="chapter done " data-progress="1.6" style="left: 35%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/README.html" title="Creating and Querying Observable Sequences" class="chapter done new-chapter" data-progress="2" style="left: 40%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html" title="Creating and Subscribing to Simple Observable Sequences" class="chapter done " data-progress="2.1" style="left: 45%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html" title="Bridging to Events" class="chapter  " data-progress="2.2" style="left: 50%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html" title="Bridging to Callbacks and Promises" class="chapter  " data-progress="2.3" style="left: 55%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html" title="Querying Observable Sequences" class="chapter  " data-progress="2.4" style="left: 60%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html" title="Operators by Category" class="chapter  " data-progress="2.5" style="left: 65%;"></a>
    
        <a href="..\../content/observable/README.html" title="Rx.Observable" class="chapter  new-chapter" data-progress="3" style="left: 70%;"></a>
    
        <a href="..\../content/observable/amb.html" title="amb" class="chapter  " data-progress="3.1" style="left: 75%;"></a>
    
        <a href="..\../content/observable/case.html" title="case" class="chapter  " data-progress="3.2" style="left: 80%;"></a>
    
        <a href="..\../content/observable/catch.html" title="catch" class="chapter  " data-progress="3.3" style="left: 85%;"></a>
    
        <a href="..\../content/observable/concat.html" title="concat" class="chapter  " data-progress="3.4" style="left: 90%;"></a>
    
        <a href="..\../content/observable/create.html" title="create" class="chapter  " data-progress="3.5" style="left: 95%;"></a>
    
        <a href="..\../content/observable/defer.html" title="defer" class="chapter  " data-progress="3.6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_6">
                    
                        <h1 id="creating-and-subscribing-to-simple-observable-sequences">Creating and Subscribing to Simple Observable Sequences</h1>
<p>You do not need to implement the <code>Observable</code> class manually to create an observable sequences. Similarly, you do not need to implement <code>Observer</code> either to subscribe to a sequence. By installing the Reactive Extension libraries, you can take advantage of the <code>Observable</code> type which provides many operators for you to create a simple sequence with zero, one or more elements. In addition, RxJS provides an overloaded <code>subscribe</code> method which allows you to pass in <code>onNext</code>, <code>onError</code> and <code>onCompleted</code> function handlers.</p>
<h2 id="creating-a-sequence-from-scratch">Creating a sequence from scratch</h2>
<p>Before getting into many operators, let&#39;s look at how to create an <code>Observable</code> from scratch using the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablecreatesubscribe" target="_blank"><code>Rx.Observable.create</code></a> method.</p>
<p>First, we need to ensure we reference the core <code>rx.js</code> file.</p>
<pre><code>    &lt;script src=&quot;rx.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Or if we&#39;re using <a href="http://node.js" target="_blank">Node.js</a>, we can reference it as such:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Rx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'rx'</span>);
</code></pre>
<p>In this example, we will simply yield a single value of 42 and then mark it as completed.  The return value is completely optional if no cleanup is required.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> source = Rx.Observable.create(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(observer)</span> {</span>
    <span class="hljs-comment">// Yield a single value and complete</span>
    observer.onNext(<span class="hljs-number">42</span>);
    observer.onCompleted();

    <span class="hljs-comment">// Any cleanup logic might go here</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
        console.log(<span class="hljs-string">'disposed'</span>);
    }
});

<span class="hljs-keyword">var</span> subscription = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'onCompleted'</span>); });

<span class="hljs-comment">// =&gt; onNext: 42</span>
<span class="hljs-comment">// =&gt; onCompleted</span>

subscription.dispose();
<span class="hljs-comment">// =&gt; disposed</span>
</code></pre>
<p>For most operations, this is completely overkill, but shows the very basics of how most RxJS operators work.</p>
<h2 id="creating-and-subscribing-to-a-simple-sequence">Creating and subscribing to a simple sequence</h2>
<p>The following sample uses the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablerangestart-count-scheduler" target="_blank"><code>range</code></a> operator of the <code>Observable</code> type to create a simple observable collection of numbers. The observer subscribes to this collection using the Subscribe method of the Observable class, and provides actions that are delegates which handle <code>onNext</code>, <code>onError</code> and <code>onCompleted</code>.  In our example, it creates a sequence of integers that starts with x and produces y sequential numbers afterwards.</p>
<p>As soon as the subscription happens, the values are sent to the observer. The <code>onNext</code> function then prints out the values.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Creates an observable sequence of 5 integers, starting from 1</span>
<span class="hljs-keyword">var</span> source = Rx.Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);

<span class="hljs-comment">// Prints out each item</span>
<span class="hljs-keyword">var</span> subscription = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'onCompleted'</span>); });

<span class="hljs-comment">// =&gt; onNext: 1</span>
<span class="hljs-comment">// =&gt; onNext: 2</span>
<span class="hljs-comment">// =&gt; onNext: 3</span>
<span class="hljs-comment">// =&gt; onNext: 4</span>
<span class="hljs-comment">// =&gt; onNext: 5</span>
<span class="hljs-comment">// =&gt; onCompleted</span>
</code></pre>
<p>When an observer subscribes to an observable sequence, the the <code>subscribe</code> method may be using asynchronous behavior behind the scenes depending on the operator. Therefore, the <code>subscribe</code> call is asynchronous in that the caller is not blocked until the observation of the sequence completes. This will be covered in more details in the <a href="schedulers.html">Using Schedulers</a> topic.</p>
<p>Notice that the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypesubscribeobserver--onnext-onerror-oncompleted" target="_blank"><code>subscribe</code></a> method returns a <code>Disposable</code>, so that you can unsubscribe to a sequence and dispose of it easily. When you invoke the <code>dispose</code> method on the observable sequence, the observer will stop listening to the observable for data.  Normally, you do not need to explicitly call <code>dispose</code> unless you need to unsubscribe early, or when the source observable sequence has a longer life span than the observer. Subscriptions in Rx are designed for fire-and-forget scenarios without the usage of a finalizer. Note that the default behavior of the Observable operators is to dispose of the subscription as soon as possible (i.e, when an <code>onCompleted</code> or <code>onError</code> messages is published). For example, the code will subscribe x to both sequences a and b. If a throws an error, x will immediately be unsubscribed from b.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> x = Rx.Observable.zip(a, b, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(a1, b1)</span> {</span> <span class="hljs-keyword">return</span> a1 + b1; }).subscribe();
</code></pre>
<p>You can also tweak the code sample to use the Create operator of the Observable type, which creates and returns an observer from specified OnNext, OnError, and OnCompleted action delegates. You can then pass this observer to the Subscribe method of the Observable type. The following sample shows how to do this.</p>
<pre><code class="lang-js"><span class="hljs-comment">// Creates an observable sequence of 5 integers, starting from 1</span>
<span class="hljs-keyword">var</span> source = Rx.Observable.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);

<span class="hljs-comment">// Create observer</span>
<span class="hljs-keyword">var</span> observer = Rx.Observer.create(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'onCompleted'</span>); });

<span class="hljs-comment">// Prints out each item</span>
<span class="hljs-keyword">var</span> subscription = source.subscribe(observer);

<span class="hljs-comment">// =&gt; onNext: 1</span>
<span class="hljs-comment">// =&gt; onNext: 2</span>
<span class="hljs-comment">// =&gt; onNext: 3</span>
<span class="hljs-comment">// =&gt; onNext: 4</span>
<span class="hljs-comment">// =&gt; onNext: 5</span>
<span class="hljs-comment">// =&gt; onCompleted</span>
</code></pre>
<p>In addition to creating an observable sequence from scratch, you can convert existing Arrays,  events, callbacks and promises into observable sequences. The other topics in this section will show you how to do this.</p>
<p>Notice that this topic only shows you a few operators that can create an observable sequence from scratch. To learn more about other LINQ operators, see Querying Observable Sequences using LINQ Operators.</p>
<h2 id="using-a-timer">Using a timer</h2>
<p>The following sample uses the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservabletimerduetime-period-scheduler" target="_blank"><code>timer</code></a> operator to create a sequence. The sequence will push out the first value after 5 second has elapsed, then it will push out subsequent values every 1 second. For illustration purpose, we chain the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypetimestampscheduler" target="_blank"><code>timestamp</code></a> operator to the query so that each value pushed out will be appended by the time when it is published. By doing so, when we subscribe to this source sequence, we can receive both its value and timestamp.</p>
<p>First, we need to ensure we reference the proper files if in the browser.  Note that the RxJS NPM Package already includes all operators by default.</p>
<pre><code>    &lt;script src=&quot;rx.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;rx.time.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Now on to our example</p>
<pre><code class="lang-js">console.log(<span class="hljs-string">'Current time: '</span> + <span class="hljs-built_in">Date</span>.now());

<span class="hljs-keyword">var</span> source = Rx.Observable.timer(
    <span class="hljs-number">5000</span>, <span class="hljs-comment">/* 5 seconds */</span>
    <span class="hljs-number">1000</span> <span class="hljs-comment">/* 1 second */</span>)
   .timestamp();

<span class="hljs-keyword">var</span> subscription = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span>
        console.log(x.value + <span class="hljs-string">': '</span> + x.timestamp);
    });


<span class="hljs-comment">/* Output may be similar to this */</span>
<span class="hljs-comment">// Current time: 1382560697820</span>
<span class="hljs-comment">// 0: 1382560702820</span>
<span class="hljs-comment">// 1: 1382560703820</span>
<span class="hljs-comment">// 2: 1382560704820</span>
</code></pre>
<p>By using the <code>timestamp</code> operator, we have verified that the first item is indeed pushed out 5 seconds after the sequence has started, and each item is published 1 second later.</p>
<h2 id="converting-an-array-to-an-observable-sequence">Converting an Array to an Observable Sequence</h2>
<p>Using the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablefromarrayarray-scheduler" target="_blank"><code>Rx.Observable.fromArray</code></a> operator, you can convert an array to observable sequence.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> array = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>];

<span class="hljs-comment">// Converts an array to an observable sequence</span>
<span class="hljs-keyword">var</span> source = Rx.Observable.fromArray(array);

<span class="hljs-comment">// Prints out each item</span>
<span class="hljs-keyword">var</span> subscription = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'onCompleted'</span>); });

<span class="hljs-comment">// =&gt; onNext: 1</span>
<span class="hljs-comment">// =&gt; onNext: 2</span>
<span class="hljs-comment">// =&gt; onNext: 3</span>
<span class="hljs-comment">// =&gt; onNext: 4</span>
<span class="hljs-comment">// =&gt; onNext: 5</span>
<span class="hljs-comment">// =&gt; onCompleted</span>
</code></pre>
<h2 id="cold-vs-hot-observables">Cold vs. Hot Observables</h2>
<p>Cold observables start running upon subscription, i.e., the observable sequence only starts pushing values to the observers when Subscribe is called. Values are also not shared among subscribers. This is different from hot observables such as mouse move events or stock tickers which are already producing values even before a subscription is active. When an observer subscribes to a hot observable sequence, it will get the current value in the stream. The hot observable sequence is shared among all subscribers, and each subscriber is pushed the next value in the sequence. For example, even if no one has subscribed to a particular stock ticker, the ticker will continue to update its value based on market movement. When a subscriber registers interest in this ticker, it will automatically get the latest tick.</p>
<p>The following example demonstrates a cold observable sequence. In this example, we use the Interval operator to create a simple observable sequence of numbers pumped out at specific intervals, in this case, every 1 second.</p>
<p>Two observers then subscribe to this sequence and print out its values. You will notice that the sequence is reset for each subscriber, in which the second subscription will restart the sequence from the first value.</p>
<p>First, we need to ensure we reference the proper files if in the browser.  Note that the RxJS NPM Package already includes all operators by default.</p>
<pre><code>    &lt;script src=&quot;rx.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;rx.time.js&quot;&gt;&lt;/script&gt;
</code></pre><p>And now to the example.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> source = Rx.Observable.interval(<span class="hljs-number">1000</span>);

<span class="hljs-keyword">var</span> subscription1 = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'Observer 1: onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'Observer 1: onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'Observer 1: onCompleted'</span>); });

<span class="hljs-keyword">var</span> subscription2 = source.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'Observer 2: onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'Observer 2: onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'Observer 2: onCompleted'</span>); });

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
    subscription1.dispose();
    subscription2.dispose();
}, <span class="hljs-number">5000</span>);

<span class="hljs-comment">// =&gt; Observer 1: onNext: 0</span>
<span class="hljs-comment">// =&gt; Observer 2: onNext: 0</span>
<span class="hljs-comment">// =&gt; Observer 1: onNext: 1</span>
<span class="hljs-comment">// =&gt; Observer 2: onNext: 1</span>
<span class="hljs-comment">// =&gt; Observer 1: onNext: 2</span>
<span class="hljs-comment">// =&gt; Observer 2: onNext: 2</span>
<span class="hljs-comment">// =&gt; Observer 1: onNext: 3</span>
<span class="hljs-comment">// =&gt; Observer 2: onNext: 3</span>
</code></pre>
<p>In the following example, we convert the previous cold observable sequence source to a hot one using the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypepublishselector" target="_blank"><code>publish</code></a> operator, which returns an <code>ConnectableObservable</code> instance we name hot. The <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypepublishselector" target="_blank"><code>publish</code></a> operator provides a mechanism to share subscriptions by broadcasting a single subscription to multiple subscribers. The hot variable acts as a proxy and subscribes to source, then as it receives values from source, pushes them to its own subscribers. To establish a subscription to the backing source and start receiving values, we use the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#connectableobservableprototypeconnect" target="_blank"><code>ConnectableObservable.prototype.connect()</code></a> method. Since <code>ConnectableObservable</code> inherits <code>Observable</code>, we can use <code>subscribe</code> to subscribe to this hot sequence even before it starts running. Notice that in the example, the hot sequence has not been started when subscription1 subscribes to it. Therefore, no value is pushed to the subscriber. After calling Connect, values are then pushed to subscription1. After a delay of 3 seconds, subscription2 subscribes to hot and starts receiving the values immediately from the current position (3 in this case) until the end. The output looks like this:</p>
<pre><code>// =&gt; Current time: 1382562433256
// =&gt; Current Time after 1st subscription: 1382562433260
// =&gt; Current Time after connect: 1382562436261
// =&gt; Observer 1: onNext: 0
// =&gt; Observer 1: onNext: 1
// =&gt; Current Time after 2nd subscription: 1382562439262
// =&gt; Observer 1: onNext: 2
// =&gt; Observer 2: onNext: 2
// =&gt; Observer 1: onNext: 3
// =&gt; Observer 2: onNext: 3
// =&gt; Observer 1: onNext: 4
// =&gt; Observer 2: onNext: 4
</code></pre><p>First, we need to ensure we reference the proper files if in the browser.  Note that the RxJS NPM Package already includes all operators by default.</p>
<pre><code>    &lt;script src=&quot;rx.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;rx.binding.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;rx.time.js&quot;&gt;&lt;/script&gt;
</code></pre><p>Now onto the example!</p>
<pre><code class="lang-js">console.log(<span class="hljs-string">'Current time: '</span> + <span class="hljs-built_in">Date</span>.now());

<span class="hljs-comment">// Creates a sequence</span>
<span class="hljs-keyword">var</span> source = Rx.Observable.interval(<span class="hljs-number">1000</span>);

<span class="hljs-comment">// Convert the sequence into a hot sequence</span>
<span class="hljs-keyword">var</span> hot = source.publish();

<span class="hljs-comment">// No value is pushed to 1st subscription at this point</span>
<span class="hljs-keyword">var</span> subscription1 = hot.subscribe(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'Observer 1: onNext: '</span> + x); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'Observer 1: onError: '</span> + e.message); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'Observer 1: onCompleted'</span>); });

console.log(<span class="hljs-string">'Current Time after 1st subscription: '</span> + <span class="hljs-built_in">Date</span>.now());

<span class="hljs-comment">// Idle for 3 seconds</span>
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>

    <span class="hljs-comment">// Hot is connected to source and starts pushing value to subscribers</span>
    hot.connect();

    console.log(<span class="hljs-string">'Current Time after connect: '</span> + <span class="hljs-built_in">Date</span>.now());

    <span class="hljs-comment">// Idle for another 3 seconds</span>
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>

        console.log(<span class="hljs-string">'Current Time after 2nd subscription: '</span> + <span class="hljs-built_in">Date</span>.now());

        <span class="hljs-keyword">var</span> subscription2 = hot.subscribe(
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> console.log(<span class="hljs-string">'Observer 2: onNext: '</span> + x); },
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span> console.log(<span class="hljs-string">'Observer 2: onError: '</span> + e.message); },
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> console.log(<span class="hljs-string">'Observer 2: onCompleted'</span>); });

    }, <span class="hljs-number">3000</span>);
}, <span class="hljs-number">3000</span>);
</code></pre>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="..\../content/creating_and_querying_observable_sequences/README.html" class="navigation navigation-prev "><i class="fa fa-angle-left"></i></a>
        
        
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html" class="navigation navigation-next "><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="..\..\gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="..\..\gitbook/app.js"></script>
        

    
    <script src="..\..\gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="..\..\gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"sans"}};
    gitbook.start(config);
});
</script>

    </body>
</html>
